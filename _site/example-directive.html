<!doctype html>
<html>
<head>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Getting Comfortable with AngularJS by jccrosby</title>

    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular.min.js"></script>
    <link rel="stylesheet" href="http://thekuroko.com/resources/jquery-ui/themes/ui-lightness/jquery-ui.min.css" />
    <script data-require="jquery@2.0.3" data-semver="2.0.3" src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script data-require="jqueryui@1.9.2" data-semver="1.9.2" src="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
    <script src="/javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
<div class="wrapper">
	<div ng-app="SliderApp" class="sample">
		
		<div ng-controller="SliderCtrl">
			<scale-slider id="imageScaler" min="0" max="100" step="1"></scale-slider>
			
			<div>
				<img id="image" ng-style="sliderStyle()" src="images/view-two.jpg">
			</div>
		</div>
		<script>
			
			var SliderApp = angular.module('SliderApp', []);
			
			SliderApp.controller('SliderCtrl', ['$scope', 
				function($scope, sizeModel){
					var DEFAULT_WIDTH = 500;
					var DEFAULT_HEIGHT = 375;
					
					$scope.sliderStyle = function() {
						var newStyle = {
							width: (DEFAULT_WIDTH * $scope.scale) + 'px',
							height: (DEFAULT_HEIGHT * $scope.scale) + 'px'
						};
						return newStyle;
					}

				}]);
			
			SliderApp.directive('scaleSlider', [ 
				function(){
					return {
						restrict: 'E',
						template: '<div></div>',
						replace: true,
						link: function($scope, $element, $attrs) {
							
							var min = parseInt($attrs.min) || 0; 
							var max = parseInt($attrs.max) || 100; 
							var step = parseInt($attrs.step) || 1; 
							
							var $slider = $($element);
							
							$slider.slider({
								value: 100,
								min: min,
								max: max,
								step: step,
								slide: function(event, ui) {
									$scope.scale = $slider.slider('value')/100;
									// We are changing the model...let everyone know
									$scope.$apply();
								}
							});	
						}	
					};
				}]);
		
		</script>
	</div>
</div>
	
	<!--[if !IE]><script>fixScale(document);</script><![endif]-->
</body>